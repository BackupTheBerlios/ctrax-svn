<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="index">


<title>Ctrax - The Caltech Multiple Walking Fly Tracker</title>

<link rel="stylesheet" type="text/css" charset="utf-8" media="all" 
href="styles/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" 
href="styles/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" 
href="styles/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" 
media="projection" href="styles/projection.css">
</head><body dir="ltr" lang="en">

<div id="title" dir="ltr" lang="en">
<table width="100%" border="0">
  <tr>
    <td><img src="images/ctrax-logo2b_128.png" width="128" height="128" alt="Ctrax logo"></td>
    <td><h1>Ctrax: The Caltech Multiple Walking Fly Tracker</h1></td>
  </tr>
</table>
</div>

<div id="page" dir="ltr" lang="en"><!-- start page -->
<div id="content" dir="ltr" lang="en">
<!--<a id="top"></a>
<a class="reference" href="http://www.hhmi.org/research/fellows/branson_bio.html">Kristin
 Branson</a>, <a class="reference" 
href="mailto:robiea@janelia.hhmi.org">Alice Robie</a>, <a
 class="reference" href="http://roach.biol.cwru.edu/JohnBender">John 
Bender</a>, <a class="reference" 
href="http://www.biology.washington.edu/users/michael-dickinson">Michael 
Dickinson</a>, <a class="reference" 
href="http://www.vision.caltech.edu/Perona.html">Pietro Perona</a></p>-->
<p>Ctrax is an open-source, 
freely available, machine vision program for estimating the positions 
and orientations of many walking flies, maintaining their individual 
identities over long periods of time. It was designed to allow 
high-throughput, quantitative analysis of behavior in freely moving 
flies. Our primary goal in this project is to provide quantitative 
behavior analysis tools to the neuroethology community; thus, we've 
endeavored to make the system adaptable to other labs' setups. We have 
assessed the quality of the tracking results for our setup, and found 
that it can maintain fly identities indefinitely with minimal 
supervision, and on average for 1.5 fly-hours automatically.</p>
<p>To further compensate for identity and other tracking errors, we 
provide the FixErrors 
Matlab GUI that identifies suspicious sequences of frames and allows
 a user to correct any tracking errors. We also distribute the BehavioralMicroarray
 Matlab Toolbox for defining and detecting a broad palette of 
individual and social behaviors. This software inputs the trajectories 
output by Ctrax and computes descriptive statistics of the behavior of 
each individual fly. We provide software for three proof-of-concept 
experiments to show the potential of the Ctrax software and our behavior
 detectors.</p>
<p>This package is described in the article "High-Throughput
 Ethomics in Large Groups of <i>Drosophila</i>," Branson et al., <i>Nature Methods</i>, 2009 (<a class="reference" 
href="http://dx.doi.org/10.1038/nmeth.1328">DOI:10.1038/nmeth.1328</a>).</p>

<hr class="h2-divider"><h2>Contents</h2>

<ul>
  <li><h3><a class="reference" href="install.html#download">Download</a></h3>
</ul>

<ul>
  <li><h3><a class="reference" href="install.html" id="id2" name="id2">Installation</a></h3></li>
  <ul>
    <li><a class="reference" href="install.html#ctrax-requirements" id="id5" 
name="id5">Ctrax Requirements</a>
    <ul>
      <li><a class="reference" 
href="install.html#computer-and-software-requirements" id="id6" name="id6">Computer and Software Requirements</a></li>
      <li><a class="reference" href="install.html#input-video-formats" id="id7" 
name="id7">Input Video Formats</a>
      <ul>
        <li><a class="reference" href="install.html#uncompressed-avi-format" id="id8" 
name="id8">Uncompressed AVI Format</a></li>
        <li><a class="reference" href="install.html#fly-movie-format" id="id9" name="id9">Fly
 Movie Format</a></li>
        <li><a class="reference" href="install.html#static-background-fly-movie-format" 
id="id10" name="id10">Static Background Fly Movie Format</a></li>
        <li><a class="reference" href="install.html#micro-fly-movie-format" id="id11" 
name="id11">Micro Fly Movie Format</a></li>
      </ul>
      </li>
      <li><a class="reference" href="install.html#arena-and-video-requirements" 
id="id12" name="id12">Arena and Video Requirements</a>
      <ul>
        <li><a class="reference" href="install.html#background-subtraction-considerations" 
id="id13" name="id13">Background Subtraction Considerations</a></li>
        <li><a class="reference" href="install.html#constant-velocity-considerations" 
id="id14" name="id14">Constant Velocity Considerations</a></li>
        <li><a class="reference" href="install.html#splitting-and-merging-connected-components" id="id15" name="id15">Splitting
 and Merging Connected Components</a></li>
        <li><a class="reference" href="install.html#escaping-and-entering-flies" id="id16" 
name="id16">Escaping and Entering Flies</a></li>
      </ul>
      </li>
    </ul>
    </li>
    <li><a class="reference" href="install.html#ctrax-installation" id="id17" 
name="id17">Ctrax Installation</a>
    <ul>
      <li><a class="reference" href="install.html#windows-installer" 
id="id18" name="id18">Windows Installer</a></li>
      <li><a class="reference" href="install.html#ubuntu-package" 
id="id19" name="id19">Ubuntu Package</a></li>
      <li><a class="reference" href="install.html#distutils" 
id="id20" name="id20">DistUtils</a>
      <ul>
        <li><a class="reference" href="install.html#python-dependencies" id="id21" 
name="id21">Python Dependencies</a></li>
      </ul>
      </li>
    </ul>
    </li>
    <li><a class="reference" href="install.html#matlab-toolboxes-requirements" 
id="id70" name="id70">Matlab Toolboxes Requirements (FixErrors GUI and Behavioral Microarray Toolbox)</a></li>
    <li><a class="reference" href="install.html#matlab-toolboxes-installation" 
id="id70" name="id70">Matlab Toolboxes Installation (FixErrors GUI and Behavioral Microarray Toolbox)</a></li>
  </ul>
</ul>

<ul>
  <li><h3><a class="reference" href="ctrax.html" id="id4" name="id4">Ctrax</a></h3>
  <ul>
    <li><a class="reference" href="ctrax.html#usage" id="id22" name="id22">Usage</a>
    <ul>
      <li><a class="reference" href="ctrax.html#settings-background-model" 
id="id23" name="id23">Settings-&gt;Background Model...</a></li>
      <li><a class="reference" href="ctrax.html#settings-background-subtraction" 
id="id24" name="id24">Settings-&gt;Background Subtraction...</a></li>
      <li><a class="reference" href="ctrax.html#settings-tracking-settings" 
id="id25" name="id25">Settings-&gt;Tracking Settings...</a>
      <ul>
        <li><a class="reference" 
href="ctrax.html#tracking-settings-shape-parameters" id="id26" name="id26">Tracking Settings: Shape Parameters</a></li>
        <li><a class="reference" 
href="ctrax.html#tracking-settings-motion-parameters" id="id27" name="id27">Tracking Settings: Motion Parameters</a></li>
        <li><a class="reference" href="ctrax.html#tracking-settings-observation-parameters" id="id28" 
name="id28">Tracking Settings: Observation Parameters</a></li>
        <li><a class="reference" href="ctrax.html#tracking-settings-hindsight-parameters" id="id29" 
name="id29">Tracking Settings: Hindsight Parameters</a></li>
      </ul>
      </li>
      <li><a class="reference" href="ctrax.html#track-start-tracking" id="id30" 
name="id30">Track-&gt;Start Tracking</a></li>
      <li><a class="reference" href="ctrax.html#track-choose-orientations" 
id="id31" name="id31">Track-&gt;Choose Orientations...</a></li>
      <li><a class="reference" href="ctrax.html#file-export-as-mat-file" id="id32"
 name="id32">File-&gt;Export as MAT-file...</a></li>
      <li><a class="reference" href="ctrax.html#display-control" id="id33" 
name="id33">Display Control</a></li>
      <li><a class="reference" href="ctrax.html#batch-processing" id="id34" 
name="id34">Batch Processing</a></li>
      <li><a class="reference" href="ctrax.html#other-commands" id="id35" 
name="id35">Other Commands</a></li>
    </ul>
    </li>
    <li><a class="reference" href="ctrax.html#example-video-annotation-and-mat-files" 
id="id36" name="id36">Example Video, Annotation, and MAT files</a></li>
  </ul>
  </li>
</ul>

<ul>
  <li><h3><a class="reference" href="fixerrors.html" id="id37" name="id37">FixErrors Matlab GUI</a></h3>
  <ul>
    <li><a class="reference" href="fixerrors.html#start-up" id="id41" 
name="id41">Start-Up</a></li>
    <li><a class="reference" href="fixerrors.html#suspiciousness-parameters" 
id="id42" name="id42">Suspiciousness Parameters</a></li>
    <li><a class="reference" href="fixerrors.html#gui-display" id="id43" 
name="id43">FixErrors GUI Display</a></li>
    <li><a class="reference" href="fixerrors.html#manipulating-trajectories" 
id="id44" name="id44">Manipulating Trajectories</a>
    <ul>
      <li><a class="reference" href="fixerrors.html#edit-tools-delete-track" 
id="id45" name="id45">Edit Tools: Delete Track</a></li>
      <li><a class="reference" href="fixerrors.html#edit-tools-swap-identities" 
id="id46" name="id46">Edit Tools: Swap Identities</a></li>
      <li><a class="reference" href="fixerrors.html#edit-tools-connect-tracks" 
id="id47" name="id47">Edit Tools: Connect Tracks</a></li>
      <li><a class="reference" href="fixerrors.html#edit-tools-interpolate" 
id="id48" name="id48">Edit Tools: Interpolate</a></li>
      <li><a class="reference" href="fixerrors.html#edit-tools-extend-track" 
id="id49" name="id49">Edit Tools: Extend Track</a></li>
      <li><a class="reference" href="fixerrors.html#edit-tools-auto-track" 
id="id50" name="id50">Edit Tools: Auto Track</a></li>
      <li><a class="reference" href="fixerrors.html#edit-tools-flip-orientation" 
id="id51" name="id51">Edit Tools: Flip Orientation</a></li>
      <li><a class="reference" 
href="fixerrors.html#edit-tools-auto-track-multiple" id="id52" name="id52">Edit Tools: Auto Track Multiple</a></li>
    </ul>
    </li>
  </ul>
  </li>
</ul>

<ul>
  <li><h3><a class="reference" href="bmat.html" 
id="id53" name="id53">BehavioralMicroarray Matlab Toolbox</a></h3>
  <ul>
    <li><a class="reference" href="bmat.html#showtrx-m" id="id57" name="id57">showtrx.m</a></li>
    <li><a class="reference" href="bmat.html#simple-diagnostics-m" id="id58" 
name="id58">simple_diagnostics.m</a></li>
    <li><a class="reference" href="bmat.html#make-ctrax-results-movie-m" id="id59" 
name="id59">make_ctrax_results_movie.m</a></li>
    <li><a class="reference" href="bmat.html#load-tracks-m" id="id60" name="id60">load_tracks.m</a></li>
    <li><a class="reference" href="bmat.html#convert-units-m" id="id61" name="id61">convert_units.m</a></li>
    <li><a class="reference" href="bmat.html#compute-perframe-stats-m" id="id62" 
name="id62">compute_perframe_stats.m</a></li>
    <li><a class="reference" href="bmat.html#compute-perframe-stats-social-m" 
id="id63" name="id63">compute_perframe_stats_social.m</a></li>
    <li><a class="reference" href="bmat.html#classify-by-area-m" id="id64" 
name="id64">classify_by_area.m</a></li>
    <li><a class="reference" href="bmat.html#learn-params-m" id="id65" name="id65">learn_params.m</a></li>
    <li><a class="reference" href="bmat.html#learn-params-social-m" id="id66" 
name="id66">learn_params_social.m</a></li>
    <li><a class="reference" href="bmat.html#detect-behaviors-m" id="id67" 
name="id67">detect_behaviors.m</a></li>
    <li><a class="reference" href="bmat.html#histogramproperties-m" id="id68" 
name="id68">histogramproperties.m</a></li>
    <li><a class="reference" href="bmat.html#plot-behaviormicroarray-m" id="id69" 
name="id69">plot_behaviormicroarray.m</a></li>
  </ul>
  </li>
</ul>

<ul>
  <li><h3><a class="reference" href="#contact" id="id71" name="id71">Contact</a></h3></li>
</ul>

<ul>
  <li><h3><a class="reference" href="#publications">Publications</a></h3></li>
</ul>

</div>

<hr class="h2-divider"><h2><a name="contact">Contact</a></h2>

<p>For questions or suggestions about the Ctrax software suite, please 
post to the <a class="reference" 
href="http://groups.google.com/group/ctrax">Ctrax Google Group</a> or submit bug reports or feature requests via the <a href="http://developer.berlios.de/projects/ctrax/">Berlios download site</a>. For 
other inquiries, contact corresponding author <a 
href="http://www.hhmi.org/research/fellows/branson.html">Kristin Branson</a>.</p>

<hr class="h2-divider"><h2><a name="publications">Publications</a></h2>

<p>Ctrax has been used for data collection in the following publications:</p>
<ul>
  <li>Branson, K., Robie, A. A., Bender, J., Perona, P. &amp; Dickinson, M. H. (2009). High-throughput ethomics in large groups of <i>Drosophila</i>. <i>Nature Methods</i> <b>6</b>:451-457. <a href="http://dx.doi.org/10.1038/nmeth.1328">DOI:10.1038/nmeth.1328</a></li>
  <li>Simon, J. C. &amp; Dickinson, M. H. (2010). A new chamber for studying the behavior of <i>Drosophila</i>. <i>PLoS ONE</i> <b>5</b>(1):e8793. <a href="http://dx.doi.org/10.1371/journal.pone.0008793">DOI:10.1371/journal.pone.0008793</a>
  <li>White, K. E., Humphrey, D. M. &amp; Hirth, F. (2010). The dopaminergic system in the aging brain of <i>Drosophila</i>. <i>Front Neurosci</i> <b>4</b>:205. <a href="http://dx.doi.org/10.3389/fnins.2010.00205">DOI:10.3389/fnins.2010.00205</a>
  <li>Bender, J. A., Simpson, E. M., Tietz, B. R., Daltorio, K. A., Quinn, R. D. &amp; Ritzmann, R. E. (2011). Kinematic and behavioral evidence for a distinction between trotting and ambling gaits in the cockroach, <i>Blaberus discoidalis</i>. <i>J Exp Biol</i>, in press.
  <li>Olfstad, T., Zucker, C. &amp; Reiser, M. (2011). <i>Nature</i>, in press.
</ul>

If you know of another publication which made use of Ctrax and/or the associated Matlab toolboxes, please <a 
href="http://www.hhmi.org/research/fellows/branson.html">let us know</a>!

</div>



</body></html>
